import{_ as o,c as e,o as s,O as n}from"./chunks/framework.8e4cc2b6.js";const t="/images/annotation/confirmation/confirmation.png",a="/images/annotation/confirmation/confirmation_table.png",i="/images/annotation/confirmation/condition_1.png",l="/images/annotation/confirmation/condition_2.png",r="/images/annotation/confirmation/confirmation_condition_explicit.png",c="/images/annotation/confirmation/confirmation_expression.png",p="/images/annotation/confirmation/confirmation_condition_implicit.png",q=JSON.parse('{"title":"Confirmation","description":"","frontmatter":{},"headers":[],"relativePath":"reference/annotations/confirmation.md","lastUpdated":1682392529000}'),d={name:"reference/annotations/confirmation.md"},u=n(`<h1 id="confirmation" tabindex="-1">Confirmation <a class="header-anchor" href="#confirmation" aria-label="Permalink to &quot;Confirmation&quot;">​</a></h1><p>When a user orders a spicy sandwich, they may specify a level of spiciness that could be too intense for some people. To prevent discomfort, a bot might confirm if the user actually desires the requested spiciness level.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">How spicy do you want for your Tofu sandwich? On scale of 1 to 5?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">5 please?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">We use strong Jalapeño, so level 5 is considered deadly, are you sure you want level 5?</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Even when a user&#39;s choice for a slot passes the value check, the business may still feel that there are things that the user might not know. As a result, the bot can inform the user of something through implicit confirmation or ask the user to confirm their choice through explicit confirmation.</p><p>To control this behavior, you can do the following:</p><ul><li>Decide which types of confirmation to use: explicit and implicit.</li><li>Specify a conditional statement that triggers the confirmations.</li><li>Support multi-valued slot confirmation via per-value confirmation.</li><li>Provide corrections on the default and interruption strategies.</li><li>Allow for customization of the &quot;yes/no&quot; understanding of user utterances under this context for explicit confirmations.&quot;</li></ul><h2 id="how-to-use" tabindex="-1">How to use <a class="header-anchor" href="#how-to-use" aria-label="Permalink to &quot;How to use&quot;">​</a></h2><p><img src="`+t+`" alt="confirmation"></p><p>Confirmation is an optional annotation that can be defined at two different levels: slot level and type level, each with its own meaning:</p><ul><li>Slot level: The bot will confirm each slot that is defined.</li><li>Type level: The bot will confirm after all slots on the frame/skill have been completed, bundling slots together for confirmation. Users can accept and modify batch confirmations.</li></ul><h3 id="conditions" tabindex="-1">Conditions <a class="header-anchor" href="#conditions" aria-label="Permalink to &quot;Conditions&quot;">​</a></h3><p>Using conditions, the bot can confirm with the user when a set of conditions is met. <a href="./kotlinexpression.html">Kotlin code expressions</a> can be used to specify the timing of key pieces of information that should be implied or requested.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get me two tickets for Adele on Jul 1st.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Adele on Jul 1st, the Event Organizer is requiring all attendees to have been fully vaccinated (14 days past final vaccination show) AND to have received a negative COVID-19 test within 48 hours of the event. Please confirm you want to continue?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">confirm</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Please select your seats</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>In the example above, the bot will confirm the COVID-19 information and request a yes or no answer only when the artist is Adele. For other artists, this confirmation will not be triggered.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get me two tickets for Coldplay on Aug 16th.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Coldplay on Aug 16th, please select your seats.</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>In this case, there are multiple conditions that need to be set here:</p><p><img src="`+a+'" alt="multiple conditions"></p><ul><li>One should be like <code>artist!!.value == &quot;adele&quot;</code> or <code>artist == Artist(&quot;adele&quot;)</code>:</li></ul><p><img src="'+i+'" alt="condition"></p><ul><li>Another can be simple, like <code>artist != null</code>:</li></ul><p><img src="'+l+'" alt="condition"></p><p>Bot will check the conditions according to the top-to-bottom order, and ask user for confirmation when the condition is met:</p><ul><li>If the first condition is <code>true</code>, bot will respond the confirmation to the user.</li><li>if the first condition is <code>false</code>, bot will move on to the next condition, and so on.</li></ul><h3 id="explicit" tabindex="-1">Explicit <a class="header-anchor" href="#explicit" aria-label="Permalink to &quot;Explicit&quot;">​</a></h3><p><img src="'+r+`" alt="explicit"></p><p>Explicit confirmation involves checking with the user that their input or request was understood correctly. It is often used to confirm critical details, and the bot will not perform the action until it receives a reply from the user, usually in the form of a yes/no or similar response.</p><p>For example, you can double-check with the user before performing an action that would be difficult to undo, such as canceling an order.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Can I cancel an order?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Sure. Could you provide me with the order number?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I found the order: [order details] Should I go ahead and Cancel the order?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Yes.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I have cancelled the order for you. </span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>But there are many ways to say yes or no by the user. To handle the synonym expressions of &quot;yes/no&quot;, <strong>Affirmatives</strong> and <strong>Negatives</strong> provide the way for you to customize the &quot;yes/no&quot; understanding in specific contexts.</p><p><img src="`+c+'" alt="implicit"></p><p>For instance, the phrase <em>&quot;Sorry I need to change&quot;</em> may imply a new intention in some situations, but it may signify a negative response to confirmation in other contexts. By defining all possible cases in <strong>Affirmatives</strong> and <strong>Negatives</strong>, the bot can better understand user responses and provide appropriate actions.</p><div class="tip custom-block"><p class="custom-block-title">Note</p><p>The common understanding of confirmation yes and no is already supported in <strong>system skill</strong> <em><code>io.opencui.core.confirmation.Yes</code></em> and <em><code>io.opencui.core.confirmation.No</code></em>, so no need to define it here. But if needed, you can also customize system skill behavior by adding expressions.</p></div><h3 id="implicit" tabindex="-1">Implicit <a class="header-anchor" href="#implicit" aria-label="Permalink to &quot;Implicit&quot;">​</a></h3><p><img src="'+p+`" alt="implicit"></p><p>Unlike explicit confirmation, implicit confirmation does not require a reply from the user. It simply confirms that the input has been received as an FYI notification and an operation will take place without asking for user approval. Although users might give feedback if they want to make a correction.</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I need to change the shipping address.</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Can I get your street address?</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">User: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">[address]</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">Chatbot: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Get. I will set your street address to be [address]. You will receive an email confirmation of this change in a few minutes. What else can I help you with?</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div>`,37),h=[u];function m(y,f,D,g,C,F){return s(),e("div",null,h)}const v=o(d,[["render",m]]);export{q as __pageData,v as default};
