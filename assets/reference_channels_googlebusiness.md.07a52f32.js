import{_ as e,a as s,b as t}from"./chunks/select-channel.e11aa0a0.js";import{_ as o,c as n,o as a,O as i}from"./chunks/framework.8e4cc2b6.js";const r="/images/channelConfig/googlebusiness/register.png",l="/images/channelConfig/googlebusiness/create-key.png",g="/images/channelConfig/googlebusiness/create-agent.png",c="/images/channelConfig/googlebusiness/add-channel.png",u="/images/channelConfig/googlebusiness/set-webhook.png",h="/images/channelConfig/googlebusiness/set-webhook-agent.png",p="/images/channelConfig/googlebusiness/test.png",M=JSON.parse('{"title":"Google Business Message","description":"","frontmatter":{},"headers":[],"relativePath":"reference/channels/googlebusiness.md","lastUpdated":1682392529000}'),m={name:"reference/channels/googlebusiness.md"},d=i('<h1 id="google-business-message" tabindex="-1">Google Business Message <a class="header-anchor" href="#google-business-message" aria-label="Permalink to &quot;Google Business Message&quot;">â€‹</a></h1><p><a href="https://developers.google.com/business-communications/business-messages" target="_blank" rel="noreferrer">Business Messages</a> is a mobile conversational channel that combines entry points on Google Maps, Search, and brand websites to create rich, asynchronous messaging experiences that delight customers and drive business results.</p><p>We are going to show here how to integrate Google Business Message into OpenCUI and deploy the chatbot to a OpenCUI hosted environment. For the private deployment, please consult systems in your organization.</p><p>Follow these steps to configure:</p><nav class="table-of-contents"><ul><li><a href="#set-up-google-business-message">Set up Google Business Message</a><ul><li><a href="#register-as-a-partner">Register as a partner</a></li><li><a href="#create-a-service-account">Create a service account</a></li><li><a href="#create-a-brand-and-an-agent">Create a brand and an agent</a></li></ul></li><li><a href="#configure-google-business-message-from-opencui">Configure Google Business Message from OpenCUI</a></li><li><a href="#finish-google-business-message-setup">Finish Google Business Message setup</a><ul><li><a href="#set-your-partner-level-webhook">Set your partner-level webhook</a></li><li><a href="#set-an-agent-level-webhook">Set an agent-level webhook</a></li></ul></li><li><a href="#test-your-chatbot">Test your chatbot</a></li></ul></nav><h2 id="set-up-google-business-message" tabindex="-1">Set up Google Business Message <a class="header-anchor" href="#set-up-google-business-message" aria-label="Permalink to &quot;Set up Google Business Message&quot;">â€‹</a></h2><h3 id="register-as-a-partner" tabindex="-1">Register as a partner <a class="header-anchor" href="#register-as-a-partner" aria-label="Permalink to &quot;Register as a partner&quot;">â€‹</a></h3><ol><li>Open the <a href="https://business-communications.cloud.google.com/?utm_source=/business-communications/business-messages/guides/quickstarts/echo-agent&amp;utm_medium=devsite&amp;utm_campaign=business-messages" target="_blank" rel="noreferrer">Business Communications Developer Console</a>.</li><li>Under <strong>Business Messages</strong>, click <strong>Create partner account</strong>.</li><li>Enter your partner information:</li></ol><table><thead><tr><th style="text-align:left;">Field</th><th style="text-align:left;">Value</th></tr></thead><tbody><tr><td style="text-align:left;">Your name</td><td style="text-align:left;">Your full name</td></tr><tr><td style="text-align:left;">Partner name</td><td style="text-align:left;">Your organization&#39;s name</td></tr><tr><td style="text-align:left;">Partner website</td><td style="text-align:left;">Your organization&#39;s website</td></tr><tr><td style="text-align:left;">Region</td><td style="text-align:left;">The region you want to host the Business Messages service</td></tr></tbody></table><ol start="4"><li>Click <strong>Create</strong>.</li></ol><p><img src="'+r+'" alt="register"></p><h3 id="create-a-service-account" tabindex="-1">Create a service account <a class="header-anchor" href="#create-a-service-account" aria-label="Permalink to &quot;Create a service account&quot;">â€‹</a></h3><ol><li>On the <a href="https://business-communications.cloud.google.com/?utm_source=/business-communications/business-messages/guides/quickstarts/echo-agent&amp;utm_medium=devsite&amp;utm_campaign=business-messages" target="_blank" rel="noreferrer">Console</a> home page, click <strong>Partner account settings</strong>.</li><li>In the left navigation, click <strong>Service account</strong>.</li><li>Click <strong>Create key</strong>, then click <strong>Create</strong>.</li></ol><p>Your browser downloads the service account key. Store it in a secure location. You&#39;ll need this key later to deploy your chatbot.</p><p><img src="'+l+'" alt="create key"></p><h3 id="create-a-brand-and-an-agent" tabindex="-1">Create a brand and an agent <a class="header-anchor" href="#create-a-brand-and-an-agent" aria-label="Permalink to &quot;Create a brand and an agent&quot;">â€‹</a></h3><ol><li>Open the <a href="https://business-communications.cloud.google.com/?utm_source=/business-communications/business-messages/guides/quickstarts/echo-agent&amp;utm_medium=devsite&amp;utm_campaign=business-messages" target="_blank" rel="noreferrer">Console</a> and sign in with your Business Messages Google account.</li><li>Click <strong>Create agent</strong>.</li><li>Enter values for <strong>Brand name</strong> and <strong>Agent name</strong>.</li><li>Deselect <strong>Enable the Business Messages Helper Bot</strong>.</li><li>Click <strong>Create agent</strong>.</li></ol><p><img src="'+g+'" alt="create agent"></p><h2 id="configure-google-business-message-from-opencui" tabindex="-1">Configure Google Business Message from OpenCUI <a class="header-anchor" href="#configure-google-business-message-from-opencui" aria-label="Permalink to &quot;Configure Google Business Message from OpenCUI&quot;">â€‹</a></h2><ol><li><p>On OpenCUI platform, go to service component <a href="https://build.opencui.io/org/io.opencui/agent/channel/struct/service_schema" target="_blank" rel="noreferrer">io.opencui.channel</a>:</p><ol><li>Click <strong>Import</strong> button on the second topbar.</li><li>Select the chatbot you want to configure Google Business Message channel and <strong>Save</strong>.</li></ol><p><img src="'+e+'" alt="import channel component"></p></li><li><p>Once you have done, switch to your chatbot to wire Google Business Message channel:</p><ol><li>On <strong>STRUCT</strong> level, head to <strong>Settings</strong> page, in the <strong>Integrations</strong> tab, select the service you just import. In this case, please select <strong>io.opencui.channel.IChannel</strong>.</li><li>A configuration dialog opens, at <strong>Service Provider</strong> field, select <strong>io.opencui.googleBusinessMessage</strong> to wiring Google Business Message channel.</li></ol><p><img src="'+s+'" alt="select the service"><em>Select service io.opencui.channel.IChannel</em></p><p><img src="'+t+'" alt="select a channel"><em>Wire Google Business Message channel</em></p></li><li><p>Continue inside the dialog, configure Google Business Message integration as following:</p><ul><li><strong>Label</strong>: Enter channel label, should be <strong>unique</strong>.</li><li><strong>Client Token</strong>: Enter any private token you desire. ðŸ“‹ Copy this value. This will be used to configure the Google Business Message Webhook.</li><li><strong>Credential</strong>: Copy and paste the service account key you downloaded from Business Communications Developer Console.</li><li><strong>Locale</strong>: Select locale which determines the default language used by your bot.</li><li><strong>Callback URL</strong>: ðŸ“‹ Copy this value after setting the label and locale. This will be used to configure the Google Business Message Webhook.</li></ul><p><img src="'+c+'" alt="add channel"></p></li><li><p>Before you go to next step, don&#39;t forget to merge your changes into master and deploy your chatbot.</p></li></ol><h2 id="finish-google-business-message-setup" tabindex="-1">Finish Google Business Message setup <a class="header-anchor" href="#finish-google-business-message-setup" aria-label="Permalink to &quot;Finish Google Business Message setup&quot;">â€‹</a></h2><p>A webhook is a partner-created HTTPS callback that specifies how your agent should respond to messages and events. You can set your webhook either at the partner level or at the agent level. Partner-level webhooks apply to every agent you maintain, while agent-level webhooks each apply to one individual agent.</p><h3 id="set-your-partner-level-webhook" tabindex="-1">Set your partner-level webhook <a class="header-anchor" href="#set-your-partner-level-webhook" aria-label="Permalink to &quot;Set your partner-level webhook&quot;">â€‹</a></h3><ol><li>Open the <a href="https://business-communications.cloud.google.com/console/partner/settings?utm_source=/business-communications/business-messages/guides/quickstarts/echo-agent&amp;utm_medium=devsite&amp;utm_campaign=business-messages" target="_blank" rel="noreferrer">Account settings</a> in the Console.</li><li>Make sure the correct partner account is selected.</li><li>Set <strong>Technical point of contact</strong>.</li><li>For <strong>Webhook</strong>, click <strong>Configure</strong>. <ul><li>For <strong>Webhook endpoint URL</strong>, paste the <em>callback URL</em> you copied when <a href="#add-google-business-channel">adding Google Business channel</a>.</li><li>For <strong>Client token</strong>, paste the <em>client token</em> you copied when <a href="#add-google-business-channel">adding Google Business channel</a>.</li></ul></li><li>Click <strong>Verify</strong> and click <strong>Save</strong> in the top right corner.</li></ol><p><img src="'+u+'" alt="set webhook"></p><h3 id="set-an-agent-level-webhook" tabindex="-1">Set an agent-level webhook <a class="header-anchor" href="#set-an-agent-level-webhook" aria-label="Permalink to &quot;Set an agent-level webhook&quot;">â€‹</a></h3><ol><li>Click your agent.</li><li>In the left navigation, click <strong>Integrations</strong>.</li><li>For <strong>Webhook</strong>, click <strong>Configure</strong>. <ul><li>For <strong>Webhook endpoint URL</strong>, paste the <em>callback URL</em> you copied when <a href="#add-google-business-channel">adding Google Business channel</a>.</li><li>For <strong>Client token</strong>, paste the <em>client token</em> you copied when <a href="#add-google-business-channel">adding Google Business channel</a>.</li></ul></li><li>Click <strong>Verify</strong>.</li></ol><p><img src="'+h+'" alt="set webhook agent"></p><h2 id="test-your-chatbot" tabindex="-1">Test your chatbot <a class="header-anchor" href="#test-your-chatbot" aria-label="Permalink to &quot;Test your chatbot&quot;">â€‹</a></h2><ol><li>Open the <a href="https://business-communications.cloud.google.com/?utm_source=/business-communications/business-messages/guides/quickstarts/echo-agent&amp;utm_medium=devsite&amp;utm_campaign=business-messages" target="_blank" rel="noreferrer">Business Communications Developer Console</a>.</li><li>Under <strong>Agent test URLs</strong>, click the <strong>Android button</strong> or <strong>iOS button</strong>. <ul><li>Scan the QR code with the corresponding mobile device, or click <strong>Copy Android URL</strong> or <strong>Copy iOS URL</strong> to copy the agent&#39;s test URL.</li><li>You can also click <strong>Send</strong> to send the URLs to your email address.</li></ul></li><li>Open the URL in your mobile device. (iOS devices require the Google Maps app.)</li><li>Now you can start a conversation with your chatbot. ðŸŽ‰</li></ol><p><img src="'+p+'" alt="test"></p>',31),b=[d];function f(k,y,_,v,C,w){return a(),n("div",null,b)}const q=o(m,[["render",f]]);export{M as __pageData,q as default};
