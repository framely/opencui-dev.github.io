import{_ as e,a as t,b as o}from"./chunks/select-channel.e11aa0a0.js";import{_ as a,c as s,o as n,O as r}from"./chunks/framework.8e4cc2b6.js";const p="/images/channelConfig/whatsapp/test.png",i="/images/channelConfig/whatsapp/add-whatsapp.png",l="/images/channelConfig/whatsapp/add-phone-number.png",c="/images/channelConfig/whatsapp/add-system-user.png",h="/images/channelConfig/whatsapp/add-people.png",g="/images/channelConfig/whatsapp/add-channel.png",u="/images/channelConfig/whatsapp/config-webhook.png",S=JSON.parse('{"title":"WhatsApp","description":"","frontmatter":{},"headers":[],"relativePath":"reference/channels/whatsapp.md","lastUpdated":1682392529000}'),d={name:"reference/channels/whatsapp.md"},b=r('<h1 id="whatsapp" tabindex="-1">WhatsApp <a class="header-anchor" href="#whatsapp" aria-label="Permalink to &quot;WhatsApp&quot;">â€‹</a></h1><p><img src="'+p+'" alt="test"></p><p>The <a href="https://developers.facebook.com/docs/whatsapp" target="_blank" rel="noreferrer">WhatsApp Business Platform</a> gives medium to large businesses the ability to connect with customers at scale. You can start conversations with customers in minutes, send customer care notifications or purchase updates, offer your customers a level of personalized service and provide support in the channel that your customers prefer to be reached on.</p><p>We are going to show here how to integrate OpenCUI with WhatsApp and deploy the chatbot to a OpenCUI hosted environment. For the private deployment, please consult systems in your organization.</p><p>Follow these steps to configure:</p><nav class="table-of-contents"><ul><li><a href="#before-you-begin">Before you begin</a></li><li><a href="#set-up-whatsapp">Set up WhatsApp</a><ul><li><a href="#add-whatsapp-product">Add WhatsApp product</a></li><li><a href="#get-access-token">Get access token</a></li></ul></li><li><a href="#configure-whatsapp-from-opencui">Configure WhatsApp from OpenCUI</a></li><li><a href="#finish-whatsapp-setup">Finish WhatsApp setup</a></li><li><a href="#test-your-chatbot">Test your chatbot</a></li></ul></nav><h2 id="before-you-begin" tabindex="-1">Before you begin <a class="header-anchor" href="#before-you-begin" aria-label="Permalink to &quot;Before you begin&quot;">â€‹</a></h2><p>On the WhatsApp side, please ensure you have all of the following:</p><ul><li><a href="https://developers.facebook.com/" target="_blank" rel="noreferrer">Developer Account</a></li><li><a href="https://developers.facebook.com/docs/development/create-an-app/" target="_blank" rel="noreferrer">A Meta Business Type App</a></li></ul><h2 id="set-up-whatsapp" tabindex="-1">Set up WhatsApp <a class="header-anchor" href="#set-up-whatsapp" aria-label="Permalink to &quot;Set up WhatsApp&quot;">â€‹</a></h2><h3 id="add-whatsapp-product" tabindex="-1">Add WhatsApp product <a class="header-anchor" href="#add-whatsapp-product" aria-label="Permalink to &quot;Add WhatsApp product&quot;">â€‹</a></h3><ol><li><p>Use <a href="https://developers.facebook.com/apps" target="_blank" rel="noreferrer">Meat App Dashboard</a> to add the WhatsApp product to your Meta App:</p><ol><li>Enter the App you want to configure, click <strong>Add Product</strong> on the left sidebar menu.</li><li>Click <strong>Set Up</strong> button on <strong>WhatsApp</strong> product.</li><li>In the pop-up window, make a selection in <strong>Create or select a Meta Business Account</strong> field, and click <strong>Continue</strong>.</li></ol><p><img src="'+i+'" alt="add messenger"></p></li><li><p>Set business phone number. Go to <strong>WhatsApp &gt; Getting Started</strong> panel:</p><ol><li>Scroll down to <strong>Step 5</strong>, and click <strong>Add Phone Number</strong>. Follow the instructions to complete your business information and verify the phone number.</li><li>Refresh the website, back to <strong>Step 1</strong>. Select the phone number you just added and ðŸ“‹ copy the <strong>Phone number ID</strong>.</li></ol><p><img src="'+l+'" alt="add phone number"></p></li></ol><h3 id="get-access-token" tabindex="-1">Get access token <a class="header-anchor" href="#get-access-token" aria-label="Permalink to &quot;Get access token&quot;">â€‹</a></h3><p>In the Business Manager, go to your <a href="https://business.facebook.com/settings" target="_blank" rel="noreferrer">Business Settings</a> page.</p><ol><li><p>Go to <strong>Users &gt; System Users</strong> panel, click <strong>Add</strong> button to add a system users.</p></li><li><p>Once you have added a system user, click <strong>Generate New Token</strong>.</p></li><li><p>In the Generate token pop-up window:</p><ul><li>Select the Meta app you created above.</li><li>Select <code>whatsapp_business_messaging</code> in <strong>Available Permissions</strong> checkbox.</li><li>Scroll down to the bottom of the popup window, click <strong>Generate Token</strong> button.</li></ul></li><li><p>ðŸ“‹ Copy and save your token.</p></li><li><p>On the same page, click <strong>Add Assets</strong>. Select your Meta app, enable <strong>Manage app</strong> control and click <strong>Save Changes</strong>.</p><p><img src="'+c+'" alt="add system user"></p></li><li><p>Go to <strong>Accounts &gt; WhatsApp accounts</strong> panel, select your business account and click <strong>Add People</strong>. Then select the system user you added in step 1, enable <strong>Manage app</strong> control, and click <strong>Assign</strong>.</p><p><img src="'+h+'" alt="add people"></p></li></ol><h2 id="configure-whatsapp-from-opencui" tabindex="-1">Configure WhatsApp from OpenCUI <a class="header-anchor" href="#configure-whatsapp-from-opencui" aria-label="Permalink to &quot;Configure WhatsApp from OpenCUI&quot;">â€‹</a></h2><ol><li><p>On OpenCUI platform, go to service component <a href="https://build.opencui.io/org/io.opencui/agent/channel/struct/service_schema" target="_blank" rel="noreferrer">io.opencui.channel</a>:</p><ol><li>Click <strong>Import</strong> button on the second topbar.</li><li>Select the chatbot you want to configure WhatsApp channel and <strong>Save</strong>.</li></ol><p><img src="'+e+'" alt="import channel component"></p></li><li><p>Once you have done, switch to your chatbot to wire WhatsApp channel:</p><ol><li>On <strong>STRUCT</strong> level, head to <strong>Settings</strong> page, in the <strong>Integrations</strong> tab, select the service you just import. In this case, please select <strong>io.opencui.channel.IChannel</strong>.</li><li>A configuration dialog opens, at <strong>Service Provider</strong> field, select <strong>io.opencui.whatsapp</strong> to wiring WhatsApp channel.</li></ol><p><img src="'+t+'" alt="select the service"><em>Select service io.opencui.channel.IChannel</em></p><p><img src="'+o+'" alt="select a channel"><em>Wire WhatsApp channel</em></p></li><li><p>Continue inside the dialog, configure WhatsApp integration as following:</p><ul><li><strong>Label</strong>: Enter channel label, should be <strong>unique</strong>.</li><li><strong>Verify Token</strong>: Enter any verify token you desire. ðŸ“‹ Copy this value. This will be used to configure the WhatsApp Webhook.</li><li><strong>Access Token</strong>: Paste the token you copied during the WhatsApp setup above.</li><li><strong>Phone Number ID</strong>: Paste the Phone Number ID you copied during the WhatsApp setup above.</li><li><strong>Locale</strong>: Select locale which determines the default language used by your bot.</li><li><strong>Callback URL</strong>: ðŸ“‹ Copy this value after setting the label and locale. This will be used to configure the WhatsApp Webhook.</li></ul><p><img src="'+g+'" alt="add channel"></p></li><li><p>Before you go to next step, don&#39;t forget to merge your changes into master and deploy your chatbot.</p></li></ol><h2 id="finish-whatsapp-setup" tabindex="-1">Finish WhatsApp setup <a class="header-anchor" href="#finish-whatsapp-setup" aria-label="Permalink to &quot;Finish WhatsApp setup&quot;">â€‹</a></h2><ol><li><p>Configure the WhatsApp webhook for your app. Back to your Meta App:</p><ol><li>Go to <strong>WhatsApp &gt; Configuration</strong> panel, in <strong>Webhooks</strong> section, click <strong>Edit</strong> button.</li><li>A Webhook setting dialog opens, use the <strong>Callback URL</strong> and <strong>Verify Token</strong> values you copied above, click <strong>Verify and Save</strong> button.</li></ol></li><li><p>In the <strong>Webhooks</strong> section, Click <strong>Manage</strong> button and subscribe <code>messages</code>.</p><p><img src="'+u+'" alt="config webhook"></p></li></ol><h2 id="test-your-chatbot" tabindex="-1">Test your chatbot <a class="header-anchor" href="#test-your-chatbot" aria-label="Permalink to &quot;Test your chatbot&quot;">â€‹</a></h2><p>To test your chatbot, open WhatsApp and send a message to your business phone number. If you get a response, you have fully set up your app for receiving messages! ðŸŽ‰</p>',21),f=[b];function m(y,k,A,w,_,v){return n(),s("div",null,f)}const P=a(d,[["render",m]]);export{S as __pageData,P as default};
