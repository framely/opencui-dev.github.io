<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PostgreSQL provider | OpenCUI</title>
    <meta name="description" content="前端技术文档">
    <link rel="preload stylesheet" href="/assets/style.c8010e58.css" as="style">
    <script type="module" src="/assets/app.6f53b012.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/assets/chunks/framework.8e4cc2b6.js">
  <link rel="modulepreload" href="/assets/chunks/theme.178d60bc.js">
  <link rel="modulepreload" href="/assets/reference_providers_postgrest.md.9e6ba8d7.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b2cf3e0b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b2cf3e0b data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-94c81dcc><div class="container" data-v-94c81dcc><div class="title" data-v-94c81dcc><div class="VPNavBarTitle has-sidebar" data-v-94c81dcc data-v-f4ef19a3><a class="title" href="/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo.png" alt data-v-6db2186b><!--]--><!--[-->OpenCUI<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-94c81dcc><div class="curtain" data-v-94c81dcc></div><div class="content-body" data-v-94c81dcc><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-94c81dcc><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-94c81dcc data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/essentials/README.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Why OpenCUI<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Quickstart<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/reference/annotations/overview.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Reference<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pricing/README.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Pricing<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/articles/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Blog<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="https://build.opencui.io" target="_blank" rel="noreferrer" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->Start to build<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-94c81dcc data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><!----><div class="VPFlyout VPNavBarExtra extra" ref_key="el" data-v-94c81dcc data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-94c81dcc data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-b2cf3e0b data-v-59bd7401><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-59bd7401><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-59bd7401><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-59bd7401>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-59bd7401 data-v-079b16a8><button data-v-079b16a8>Return to top</button><!----></div></div><aside class="VPSidebar" ref_key="navEl" data-v-b2cf3e0b data-v-af16598e><div class="curtain" data-v-af16598e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-af16598e><span class="visually-hidden" id="sidebar-aria-label" data-v-af16598e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/are-you-ready.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Got team?</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Dialog Annotations</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/overview.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Overview</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/fillstrategy.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Fill strategy</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/init.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Initialization</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/valuerec.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Value recommendation</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/valuecheck.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Value check</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/confirmation.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Confirmation</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/transition.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>State transition</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0 has-active" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Providers</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/providers/overview.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Overview</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/providers/native.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Native provider</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/providers/postgrest.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>PostgreSQL provider</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Channels</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/channels/overview.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Overview</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/channels/universalmessage.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Universal Channel</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/channels/googlebusiness.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Google Business Message</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/channels/messenger.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Messenger</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/channels/whatsapp.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>WhatsApp</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Supports</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/support/overview.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Overview</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/support/Chatwoot.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Chatwoot</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/providers/extension.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Extensions</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>CUI Components</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/annotations/systemcomponent.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>System CUI components</p><!--]--><!----></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/plugins/components/datepicker/README.html" data-v-c4656e6d data-v-8f4dc553><!--[--><h3 class="text" data-v-c4656e6d>Date picker</h3><!--]--><!----></a><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-2 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/plugins/components/datepicker/datepicker-design.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>CUI design</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Platform</h2><!----></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/multilingual.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Multilingual</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/testing.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Testing</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/deployment.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Deployment</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/versioncontrol.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Version control</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/access.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Access control</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/platform/reusability.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Reusability</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-af16598e><section class="VPSidebarItem level-0" data-v-af16598e data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/reference/glossary.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Glossary</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b2cf3e0b data-v-a494bd1d><div class="VPDoc has-sidebar has-aside" data-v-a494bd1d data-v-c4b0d3cf><!--[--><!--]--><div class="container" data-v-c4b0d3cf><div class="aside" data-v-c4b0d3cf><div class="aside-curtain" data-v-c4b0d3cf></div><div class="aside-container" data-v-c4b0d3cf><div class="aside-content" data-v-c4b0d3cf><div class="VPDocAside" data-v-c4b0d3cf data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" ref_key="container" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-9a431c33><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-c4b0d3cf><div class="content-container" data-v-c4b0d3cf><!--[--><!--]--><!----><main class="main" data-v-c4b0d3cf><div style="position:relative;" class="vp-doc _reference_providers_postgrest" data-v-c4b0d3cf><div><h1 id="postgresql-provider" tabindex="-1">PostgreSQL provider <a class="header-anchor" href="#postgresql-provider" aria-label="Permalink to &quot;PostgreSQL provider&quot;">​</a></h1><p>OpenCUI also supports the backend component in form of PostgreSQL provider. The backend component can be declaratively defined in two steps: First, create database tables needed by service by adding storage annotation to frames, secondly, provide function implementation using SQL to express business logic. Using backoffice annotation, you can specify how the operation team can access these tables via backoffice.</p><p>There are several advantages of using the backend component approach to build a service provider:</p><ul><li>In addition to declaratively building a database as a content management system, the OpenCUI backend component allows you to implement the service declaratively using SQL. This makes it possible for the business analyst to build the backend.</li><li>Since tables are created based on the data type in the API schema, no explicit conversion code is needed, and rows in the table or view in the database are automatically converted into an object in OpenCUI.</li><li>The admin interface or backoffice can also be automatically created based on annotations so that the operation team can use backoffice to provide the service.</li><li>Backoffice components can be reused by cloning for OpenCUI hosted solutions.</li></ul><h2 id="create-a-postgresql-provider" tabindex="-1">Create a PostgreSQL provider <a class="header-anchor" href="#create-a-postgresql-provider" aria-label="Permalink to &quot;Create a PostgreSQL provider&quot;">​</a></h2><p>To create a PostgreSQL provider:</p><ol><li><p>Within an org, click <strong>Create</strong> on the right side and select <strong>Create provider</strong>.</p><p><img src="/images/provider/postgrest/create-provider.png" alt="create provider"></p></li><li><p>In the Create popup window, complete the form for basic settings:</p><ul><li>Enter a <strong>Project label</strong> for your PostgreSQL provider.</li><li>Select <strong>PostgreSQL</strong> in <strong>Provider type</strong> field.</li><li>Select <strong>OpenCUI-hosted</strong> in <strong>Deploy mode</strong> field as currently we only support hosted mode for PostgreSQL provider.</li><li>Specify a <strong>Region</strong> for your PostgreSQL database.</li><li>Click <strong>Create</strong>.</li></ul><p><img src="/images/provider/postgrest/provider-form.png" alt="provider form"></p></li></ol><h2 id="import-service-interfaces" tabindex="-1">Import service interfaces <a class="header-anchor" href="#import-service-interfaces" aria-label="Permalink to &quot;Import service interfaces&quot;">​</a></h2><p>When you are done with creation, you need to import which service interface this PostgreSQL provider implements.</p><p>To declare the service interface:</p><ol><li>Enter the service component you want to implement.</li><li>Click <strong>Import</strong> on right side of the second navigation bar.</li><li>In the popup window, select your PostgreSQL provider and <strong>Save</strong>.</li></ol><p><img src="/images/provider/postgrest/import-component.png" alt="import component"></p><h2 id="create-tables" tabindex="-1">Create tables <a class="header-anchor" href="#create-tables" aria-label="Permalink to &quot;Create tables&quot;">​</a></h2><p>With postgres provider, it is very convenient to create a database without the SQL <code>CREATE TABLE</code> statement. All you need to do is create frames or select existing frames (Local or Imported) and <strong>Enable Storage</strong>.</p><p><img src="/images/provider/postgrest/enable-storage.png" alt="enable storage"></p><p>A frame represents a table, and slots in this frame represent the table columns:</p><ul><li>Frame label specifies the name of the table.</li><li>Slot label specifies the name of the column in the table.</li><li>Slot type maps to SQL data type that specifies the type of data the column can hold.</li></ul><p><img src="/images/provider/postgrest/data-management.png" alt="data management"></p><p>You can use <strong>Storage Annotations</strong> to declare constraints which are used to specify rules for the data in a table. This ensures the accuracy and reliability of the data in the table. Constraints can be column level or table level, therefore, storage annotations can be slot level or type level. Slot level apply to a column, and type level apply to the whole table.</p><p>If the table needs to be accessed by the operation team on the admin interface, you can also specify it through <strong>Backoffice Annotations</strong>.</p><p>When the postgres provider <strong>Deploy</strong> button is triggered, OpenCUI platform will update the table structure in the corresponding hosted database.</p><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>When creating a table in hosted database, OpenCUI will automatically add two columns, <code>ID</code> column and <code>created_at</code> column. So, normally, you don&#39;t need to add these two slots in a frame, but you can if you need to.</p></div><h3 id="data-types" tabindex="-1">Data types <a class="header-anchor" href="#data-types" aria-label="Permalink to &quot;Data types&quot;">​</a></h3><p>Data types are a way to limit the kind of data that can be stored in a table: integer, character, date and time, binary, and so on. For sure, there will be some type conversion between OpenCUI platform and SQL date types. For an overview of the available data types:</p><table><thead><tr><th style="text-align:left;">OpenCUI Platform Type</th><th style="text-align:left;">SQL Data Type Examples</th></tr></thead><tbody><tr><td style="text-align:left;">kotlin.Boolean</td><td style="text-align:left;">boolean</td></tr><tr><td style="text-align:left;">kotlin.Float</td><td style="text-align:left;">double precision</td></tr><tr><td style="text-align:left;">kotlin.Int</td><td style="text-align:left;">bigint</td></tr><tr><td style="text-align:left;">kotlin.String</td><td style="text-align:left;">text, char(n), varchar(n)</td></tr><tr><td style="text-align:left;">java.time.LocalDate</td><td style="text-align:left;">date</td></tr><tr><td style="text-align:left;">java.time.LocalDateTime</td><td style="text-align:left;">timestamp without time zone</td></tr><tr><td style="text-align:left;">java.time.LocalTime</td><td style="text-align:left;">time without time zone</td></tr><tr><td style="text-align:left;">java.time.DayOfWeek</td><td style="text-align:left;">text</td></tr><tr><td style="text-align:left;">java.time.Year</td><td style="text-align:left;">bigint</td></tr><tr><td style="text-align:left;">java.time.YearMonth</td><td style="text-align:left;">date</td></tr></tbody></table><p>Types that are not specified in the table above will be considered as string types, including custom entity types. String types can be one of <code>text</code>, <code>char(n)</code> and <code>varchar(n)</code>, where <code>n</code> is a positive integer. For more information about such types in PostgreSQL, click <a href="https://www.postgresql.org/docs/current/datatype-character.html" target="_blank" rel="noreferrer">Character Types</a>.</p><p>If the type conversion is deterministic, you don&#39;t need to worry about it, the SQL data type will be displayed automatically. Otherwise, you need to specify one.</p><p><img src="/images/provider/postgrest/sql-data-type-deterministic.png" alt="sql data type deterministic"><em>Type conversion is deterministic</em></p><p><img src="/images/provider/postgrest/sql-data-type.png" alt="sql data type"><em>Need to specify data type</em></p><h3 id="allow-null" tabindex="-1">Allow null <a class="header-anchor" href="#allow-null" aria-label="Permalink to &quot;Allow null&quot;">​</a></h3><p>By default, a column can hold NULL values. So the Allow Null toggle is enabled by default. To enforce a column to NOT accept NULL values, disable it. For more information about this constraint in PostgreSQL, see <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#id-1.5.4.6.6" target="_blank" rel="noreferrer">Not-Null Constraints</a>.</p><p><img src="/images/provider/postgrest/sql-allow-null.png" alt="sql allow null"></p><h3 id="default-value" tabindex="-1">Default value <a class="header-anchor" href="#default-value" aria-label="Permalink to &quot;Default value&quot;">​</a></h3><p>A column can be assigned a default value. When a new row is created and no values are specified for some of the columns, those columns will be filled with their respective default values. The default value can be a constant or an expression. A common example is for a <code>java.time.LocalTime</code> slot, you can set default value as <code>now()</code>. For more information about default value in PostgreSQL, click <a href="https://www.postgresql.org/docs/current/ddl-default.html" target="_blank" rel="noreferrer">Default Values</a>.</p><p><img src="/images/provider/postgrest/sql-default-value.png" alt="sql default value"></p><h3 id="unique" tabindex="-1">Unique <a class="header-anchor" href="#unique" aria-label="Permalink to &quot;Unique&quot;">​</a></h3><p>Unique ensure that the data contained in a column, or a group of columns, is unique among all the rows in the table. It is a type level annotation, you can have many unique constraints per table.</p><p>You can set one slot in one unique constraint, this specifies that all values in this column are different. You can also set a group of slots in one unique, this specifies that the combination of values in the indicated columns is unique across the whole table, though any one of the columns need not be (and ordinarily isn&#39;t) unique. For more information about unique constraints in PostgreSQL, see <a href="https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS" target="_blank" rel="noreferrer">Unique Constraints</a>.</p><p><img src="/images/provider/postgrest/unique.png" alt="unique"></p><h3 id="input-type" tabindex="-1">Input type <a class="header-anchor" href="#input-type" aria-label="Permalink to &quot;Input type&quot;">​</a></h3><p>Input type is a backoffice annotation, indicating how the operation team input data values on the admin interface. Here are three options: text, dropdown and media.</p><p><img src="/images/provider/postgrest/sql-input-type.png" alt="sql input type"></p><ul><li><p>Text: An input box for the data value, allowing to enter any content.</p><p><img src="/images/provider/postgrest/input-text.png" alt="input text"></p></li><li><p>Dropdown: A dropdown menu for displaying choices. To select value from options makes it easier for operators to input legit and compatible value.</p><p><img src="/images/provider/postgrest/dropdown-annotation.png" alt="dropdown annotation"></p><p>Currently dropdown only supports static options, which can be defined via JSON:</p><ul><li>JSON Representation</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">value1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">display1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">value2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">display2</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span></code></pre></div><ul><li>Fields</li></ul><table><thead><tr><th style="text-align:left;">Fields</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>id</code></td><td style="text-align:left;">string</td><td style="text-align:left;"><em>Required</em>. Stored as value in the database.</td></tr><tr><td style="text-align:left;"><code>name</code></td><td style="text-align:left;">string</td><td style="text-align:left;"><em>Required</em>. Displayed in backoffice (admin interface).</td></tr></tbody></table><p>For example, you can provide a dropdown list statically via JSON like this:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imax3d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">IMAX 3D</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">digital3d</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Digital 3D</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">standard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Standard</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">]</span></span></code></pre></div><p>Then operators can select the value from the select component in backoffice like this:</p><p><img src="/images/provider/postgrest/dropdown.png" alt="dropdown"></p></li><li><p>Media</p><p>By setting input type to media, operators can upload pictures by selecting or dragging in the backoffice and the URLs of pictures will be stored in cells automatically. When you need to send rich messages to users, you can use these URLs for displaying.</p><p>For example, there is a slot called <em>photo</em> of which input type is media on OpenCUI. In its corresponding column in backoffice, you can upload a picture and view the picture in the table.</p><p><img src="/images/provider/postgrest/upload-picture.png" alt="upload picture"><em>Figure 1: upload pictures</em></p><p><img src="/images/provider/postgrest/view-picture.png" alt="view picture"><em>Figure 2: view pitures in the table</em></p></li></ul><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>When the SQL data type is one of <code>text</code>, <code>varchar</code> and <code>varchar(n)</code>, you can choose <strong>Media</strong>.</p></div><h2 id="provide-function-implementation" tabindex="-1">Provide function implementation <a class="header-anchor" href="#provide-function-implementation" aria-label="Permalink to &quot;Provide function implementation&quot;">​</a></h2><p>To provide function implementation, you need to add service interface to implement first.</p><p>Back to your PostgreSQL provider, and head to <strong>Service</strong> page from the navigation bar. In the <strong>Implemented</strong> section, select the service interface you want to implement.</p><p><img src="/images/provider/postgrest/function-implementation.png" alt="function implementation"></p><p>Then all the functions on the service interface will be shown. To implement a fucntion, click one of the functions in <strong>Functions</strong> section. In the function popup window, you can provide the implementation in <strong>Provider Dependent</strong> script language or just in <strong>Kotlin</strong>. No matter which language you will be using, OpenCUI provides a built-in <strong>Auto Completion</strong> feature to help you with your implementation.</p><p><img src="/images/provider/postgrest/click-function.png" alt="click a function"><em>Click a function</em></p><p><img src="/images/provider/postgrest/implement-function.png" alt="implement function"><em>Provide implementation</em></p><h3 id="pl-pgsql" tabindex="-1">PL/pgSQL <a class="header-anchor" href="#pl-pgsql" aria-label="Permalink to &quot;PL/pgSQL&quot;">​</a></h3><p>For PostgreSQL providers, the provider dependent language is <a href="https://www.postgresql.org/docs/current/plpgsql.html" target="_blank" rel="noreferrer">PL/pgSQL</a>. If you are familiar with <a href="https://www.postgresql.org/docs/14/sql.html" target="_blank" rel="noreferrer">SQL</a>, writing SQL commands within a PL/pgSQL function will be easy.</p><p>For example, if you&#39;ve stored your customers&#39; information in your database and you want to get a customer&#39;s name by their user ID, which is an input parameter named <em>userId_parameter</em>, the code will be like this:</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">BEGIN</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">RETURN</span><span style="color:#A6ACCD;"> QUERY </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">WHERE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId_parameter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">END</span></span></code></pre></div><p>Besides, <a href="https://www.postgresql.org/docs/current/plpgsql.html" target="_blank" rel="noreferrer">PL/pgSQL language</a> also supports <a href="https://www.postgresql.org/docs/current/plpgsql-control-structures.html#PLPGSQL-CONTROL-STRUCTURES-LOOPS" target="_blank" rel="noreferrer">simple loops</a> and <a href="https://www.postgresql.org/docs/current/plpgsql-control-structures.html#PLPGSQL-CONDITIONALS" target="_blank" rel="noreferrer">conditionals</a>.</p><div class="tip custom-block"><p class="custom-block-title">Need to know</p><p>If the return value is not a storage-enabled frame and the type of slot in the frame is <strong>builder-define entity</strong> or <em><strong>kotlin.String</strong></em>, check whether the type of its corresponding column is <em>text</em> in PostgreSQL. If not, use <code>::text</code> to convert the type of column into <em>text</em>.</p><p>For example, the return value is consist of <em>dishId</em> and <em>dishName</em>. The type of <em>dishName</em> is <em>customized entity</em> and its corresponding column is <em>varchar(50)</em> in PostgreSQL. Add <code>::text</code> behind <em>dishName</em> to convert <em>varchar(50)</em> to <em>text</em>, so that the conversion between OpenCUI and PostgreSQL can work smoothly.</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">BEGIN</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">RETURN</span><span style="color:#A6ACCD;"> QUERY </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dishId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dishName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">::</span><span style="color:#C792EA;">text</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dishItem</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#F78C6C;">END</span></span></code></pre></div></div><div class="warning custom-block"><p class="custom-block-title">Warning</p><p>The return type of Provider-dependent function <strong>can NOT be entity</strong>. If the function only returns one column, you should add wrap the entity using a frame.</p><p>For example, if the type of column is X, you should create a frame and add a slot in the frame. The type of the slot should be corresponding of X in OpenCUI.</p></div><p>When the function returns a set of values of <strong>composite type</strong>, we convert the composite type back to a <strong>frame</strong>, so you can display or use these values in the OpenCUI environment. When returning values, be sure to follow these rules.</p><ul><li>The <strong>types</strong> of slots in the the frame should be compatible with the types of return columns in the same index. For example, if the types of slots in the frame are [<em>kotlin.Int</em>, <em>kotlin.String</em>], the SQL data types of return columns should be [<em>bigint</em>, <em>text</em>] instead of [<em>text</em>, <em>bigint</em>].</li><li>The <strong>labels</strong> of slots in the the frame and the names of columns in the same index can be different. For example, if the labels of slots in a frame are [<em>id</em>, <em>name</em>], the names of return columns can be [<em>userId</em>, <em>userName</em>].</li></ul><h3 id="kotlin" tabindex="-1">Kotlin <a class="header-anchor" href="#kotlin" aria-label="Permalink to &quot;Kotlin&quot;">​</a></h3><p>In OpenCUI, function can always be implemented in <strong>Kotlin</strong>, known as native functions. For more information about Kotlin, see <a href="https://kotlinlang.org/docs/functions.html" target="_blank" rel="noreferrer">Kotlin</a>.</p><p>Native functions can be used to convert the value returning from a provider-dependent function to a desirable format. For example, if a provider-dependent function returns a multi-value frame with only one slot, you could use a Kotlin function to convert the multi-value frame into a multi-value slot.</p><div class="language-kotlin"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/* </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">Suppose a provider-dependent is getFoodCategory() which returns a list of frame. </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">There is one slot called returnValue in the frame. </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> getFoodCategory</span><span style="color:#89DDFF;">()!!.</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">it </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> it</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">returnValue</span><span style="color:#89DDFF;">!!}</span></span></code></pre></div><h3 id="function-console" tabindex="-1">Function Console <a class="header-anchor" href="#function-console" aria-label="Permalink to &quot;Function Console&quot;">​</a></h3><p>When you finish implementing the function, before you wire it to the chatbot, you can verify whether your implementation is as expected through <strong>Function Console</strong>. Currently, function console can only test <strong>Provider Dependent</strong> implementations. To use function console, following these steps:</p><ol><li><p>Deploy your postgres provider. In the navigation bar, select <strong>Versions</strong> tab, click <strong>Deploy</strong> in the upper-right corner of the Versions area. Make sure that all changes including function implementations are merged into master and deployed successfully.</p><p><img src="/images/provider/postgrest/sql-deploy.png" alt="deploy postgres provider"></p></li><li><p>After deploying, switch to <strong>Service</strong> tab. In the upper-right corner of the Service area, click <strong>Debug</strong>.</p><p><img src="/images/provider/postgrest/click-test.png" alt="click test"></p></li><li><p>In <strong>Function Console</strong>, select a function and pass values to parameters.</p><ul><li>If you want to pass null to a parameter, just leave it empty.</li><li>If the type of a parameter is entity, you can type its value directly.</li><li>If the type of a parameter is frame, please use JSON format.</li></ul></li><li><p>Click <strong>Execute</strong>, then you can see the returns in <strong>Result</strong> section. As shown below, this function will return the business hours on a day.</p><p><img src="/images/provider/postgrest/function-testing.png" alt="function testing"></p></li></ol><h2 id="access-backoffice" tabindex="-1">Access Backoffice <a class="header-anchor" href="#access-backoffice" aria-label="Permalink to &quot;Access Backoffice&quot;">​</a></h2><p>Once the table structure has been declared in OpenCUI platform, the hosted database can be accessed through <strong>Backoffice</strong> (the admin interface). To access the actual data source, you need to deploy the postgres provider first.</p><ol><li>In the navigation bar, select the <strong>Versions</strong> tab.</li><li>Click <strong>Deploy</strong> in the upper-right corner of the Versions area.</li></ol><p><img src="/images/provider/postgrest/sql-deploy.png" alt="deploy postgres provider"></p><p>When the <strong>Deploy</strong> button is triggered, OpenCUI platform will update the table structure in the corresponding hosted database. Then, you can log in to the backoffice to access the actual data source through Postgres provider configuration information.</p><ol><li>Switch to <strong>Configuration</strong> area, then you can get the configuration information.</li><li>Copy and paste the <strong>URL</strong> to your browser, use <strong>Admin Email</strong> and <strong>Admin Password</strong> to log in to backoffice.</li></ol><p><img src="/images/provider/postgrest/configuration.png" alt="configuration"><em>Configuration information</em></p><p><img src="/images/provider/postgrest/backoffice.png" alt="backoffice"><em>Backoffice, the admin interface</em></p><div class="warning custom-block"><p class="custom-block-title">Caution</p><p>Be very careful with table schema changes, remember to manually modify data in backoffice that is no longer compatible.</p></div><h2 id="wire-to-chatbot" tabindex="-1">Wire to Chatbot <a class="header-anchor" href="#wire-to-chatbot" aria-label="Permalink to &quot;Wire to Chatbot&quot;">​</a></h2><p>Once you have a PostgreSQL provider running, you need to wire this implementation to its service interface in your chatbot that allows chatbots to communicate with data source. To wire PostgreSQL provider to chatbot, you can follow these steps below:</p><ol><li><p>Declare service interface implemented by this PostgreSQL provider in chatbot. It means you need to import service component into your chatbot. Click into the service component, and <strong>import</strong> it into your chatbot.</p><p><img src="/images/provider/postgrest/import-service-into-chatbot.png" alt="import service into chatbot"></p></li><li><p>Switch to your chatbot, wire PostgreSQL provider to its service interface.</p><ul><li>Head to <strong>Settings</strong> page from the navigation bar.</li><li>Switch to <strong>Integrations</strong> tab, in the <strong>Debug service provider</strong> section or <strong>Deploy service provider</strong> section, select the service interface you just imported and the PostgreSQL provider that implements it. At the same time, a label needs to be added to show different integration.</li></ul><p><img src="/images/provider/postgrest/chatbot-integration.png" alt="chatbot integration"></p></li></ol><p>After wiring the PostgreSQL provider, you can edit it at any time. However, it&#39;s important to remember to merge your latest changes to the master branch and redeploy the provider in order to ensure that your chatbot is using the most up-to-date version.</p></div></div></main><footer class="VPDocFooter" data-v-c4b0d3cf data-v-face870a><!--[--><!--]--><div class="edit-info" data-v-face870a><!----><div class="last-updated" data-v-face870a><p class="VPLastUpdated" data-v-face870a data-v-7b3ebfe1>Last updated: <time datetime="2023-04-25T03:15:29.000Z" data-v-7b3ebfe1></time></p></div></div><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/reference/providers/native.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>Native provider</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/reference/channels/overview.html" data-v-face870a><span class="desc" data-v-face870a>Next page</span><span class="title" data-v-face870a>Overview</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"guide_index.md\":\"23da6209\",\"guide_opencui-flow.md\":\"8367a901\",\"guide_reuse-component.md\":\"e987ee4b\",\"guide_signingup.md\":\"1315c5f7\",\"index.md\":\"1b29abf4\",\"policy_privacy.md\":\"0fb90305\",\"policy_terms.md\":\"fdba1082\",\"articles_build-reservation-module.md\":\"e5f84b9e\",\"reference_readme.md\":\"2d46d46d\",\"reference_annotations_confirmation.md\":\"f79bd630\",\"reference_annotations_fillstrategy.md\":\"54d3b67b\",\"reference_annotations_init.md\":\"8be938c7\",\"reference_annotations_kotlinexpression.md\":\"5fec1cff\",\"articles_chatbot-development-with-opencui.md\":\"df577479\",\"articles_index.md\":\"5c20af3e\",\"contributing.md\":\"5b744e30\",\"essentials_readme.md\":\"d9500ce3\",\"essentials_document-requirement-for-cui.md\":\"39aa9bba\",\"essentials_newformulation.md\":\"43a47680\",\"guide_3layers.md\":\"3625cbcb\",\"articles_set-up-vuepress-blog.md\":\"ea2a2ae6\",\"reference_annotations_overview.md\":\"6b8162b9\",\"guide_clone-simple-chatbot.md\":\"12ba99c0\",\"guide_build-simple-chatbot.md\":\"b8beb387\",\"articles_from-schema-to-snippets.md\":\"0418179d\",\"guide_concepts.md\":\"9cfdd3bc\",\"guide_deploy-to-channel.md\":\"e3abb219\",\"essentials_5levels-cui.md\":\"39310d52\",\"essentials_architecture.md\":\"808a0fae\",\"guide_build-module.md\":\"800c873b\",\"articles_reservation-cui-design.md\":\"fb45a8d8\",\"pricing_readme.md\":\"b61c2fc1\",\"reference_annotations_systemcomponent.md\":\"84c00559\",\"reference_annotations_templateandexemplar.md\":\"ea4ac4e8\",\"reference_annotations_transition.md\":\"89284c46\",\"reference_annotations_valuecheck.md\":\"aa4f7df3\",\"reference_annotations_valuerec.md\":\"54016f2d\",\"reference_are-you-ready.md\":\"495a9d98\",\"reference_channels_googlebusiness.md\":\"07a52f32\",\"reference_channels_messenger.md\":\"461f5bab\",\"reference_channels_overview.md\":\"0573f027\",\"reference_channels_universalmessage.md\":\"bcf87011\",\"reference_channels_whatsapp.md\":\"be42b345\",\"reference_channels_wpa.md\":\"5b461ed9\",\"reference_glossary.md\":\"fe54ee1e\",\"reference_platform_deployment.md\":\"5e53186c\",\"reference_platform_multilingual.md\":\"102377a2\",\"reference_platform_reusability.md\":\"c87c65a7\",\"reference_platform_testing.md\":\"80221129\",\"reference_platform_versioncontrol.md\":\"c4fab407\",\"reference_plugins_components_datepicker_readme.md\":\"04fb2b7e\",\"reference_plugins_components_datepicker_datepicker-design.md\":\"a8bf3bcd\",\"reference_plugins_services_reservation_readme.md\":\"97b5644f\",\"reference_plugins_services_reservation_google-calendar-reservation.md\":\"db59194f\",\"reference_plugins_services_reservation_reservation-api.md\":\"5b352b68\",\"reference_providers_extension.md\":\"fb20498f\",\"reference_providers_googlesheets.md\":\"63c39027\",\"reference_providers_native.md\":\"a07c0894\",\"reference_providers_overview.md\":\"509b886d\",\"reference_providers_postgrest.md\":\"9e6ba8d7\",\"reference_support_chatwoot.md\":\"afb7080b\",\"reference_support_overview.md\":\"dd649770\",\"essentials_components.md\":\"0cdfe577\",\"reference_platform_access.md\":\"70cf3758\",\"guide_build-provider.md\":\"93064438\",\"articles_reuse-reservation-module.md\":\"bffbe0c2\",\"essentials_cooperative.md\":\"f496e8b5\",\"readme.md\":\"9b3cb2b5\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OpenCUI\",\"description\":\"前端技术文档\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/images/logo.png\",\"nav\":[{\"text\":\"Why OpenCUI\",\"link\":\"/essentials/README.md\",\"activeMatch\":\"/essentials/\"},{\"text\":\"Quickstart\",\"link\":\"/guide/\",\"activeMatch\":\"/guide/\"},{\"text\":\"Reference\",\"link\":\"/reference/annotations/overview.html\",\"activeMatch\":\"/reference/\"},{\"text\":\"Pricing\",\"link\":\"/pricing/README.md\",\"activeMatch\":\"/pricing/\"},{\"text\":\"Blog\",\"link\":\"/articles/\",\"activeMatch\":\"/articles/\"},{\"text\":\"Start to build\",\"link\":\"https://build.opencui.io\",\"target\":\"_blank\"}],\"sidebar\":{\"/essentials/\":[{\"text\":\"Why OpenCUI\",\"collapsed\":false,\"items\":[{\"text\":\"Cost-effective conversational experience\",\"link\":\"/essentials/README.md\"},{\"text\":\"Cooperative principle\",\"link\":\"/essentials/cooperative.md\"},{\"text\":\"5 levels of CUI\",\"link\":\"/essentials/5levels-cui.md\"},{\"text\":\"Open sourced runtime\",\"link\":\"/essentials/architecture.md\"}]}],\"/guide/\":[{\"text\":\"Quickstart\",\"items\":[{\"text\":\"Sign up\",\"link\":\"/guide/signingup\"},{\"text\":\"Clone a simple chatbot\",\"link\":\"/guide/clone-simple-chatbot.md\"},{\"text\":\"Build a simple chatbot\",\"link\":\"/guide/build-simple-chatbot.md\"},{\"text\":\"Reuse a simple module\",\"link\":\"/guide/reuse-component.md\"},{\"text\":\"Build a simple module\",\"link\":\"/guide/build-module.md\"},{\"text\":\"Build a simple provider\",\"link\":\"/guide/build-provider.md\"},{\"text\":\"Deploy a chatbot\",\"link\":\"/guide/deploy-to-channel.md\"},{\"text\":\"OpenCUI workflow\",\"link\":\"/guide/opencui-flow.md\"},{\"text\":\"Key concepts\",\"link\":\"/guide/concepts.md\"}]}],\"/reference/\":[{\"text\":\"Got team?\",\"link\":\"/reference/are-you-ready.md\"},{\"text\":\"Dialog Annotations\",\"collapsible\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/annotations/overview.md\"},{\"text\":\"Fill strategy\",\"link\":\"/reference/annotations/fillstrategy.md\"},{\"text\":\"Initialization\",\"link\":\"/reference/annotations/init.md\"},{\"text\":\"Value recommendation\",\"link\":\"/reference/annotations/valuerec.md\"},{\"text\":\"Value check\",\"link\":\"/reference/annotations/valuecheck.md\"},{\"text\":\"Confirmation\",\"link\":\"/reference/annotations/confirmation.md\"},{\"text\":\"State transition\",\"link\":\"/reference/annotations/transition.md\"}]},{\"text\":\"Providers\",\"collapsible\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/providers/overview.md\"},{\"text\":\"Native provider\",\"link\":\"/reference/providers/native.md\"},{\"text\":\"PostgreSQL provider\",\"link\":\"/reference/providers/postgrest.md\"}]},{\"text\":\"Channels\",\"collapsible\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/channels/overview.md\"},{\"text\":\"Universal Channel\",\"link\":\"/reference/channels/universalmessage.md\"},{\"text\":\"Google Business Message\",\"link\":\"/reference/channels/googlebusiness.md\"},{\"text\":\"Messenger\",\"link\":\"/reference/channels/messenger.md\"},{\"text\":\"WhatsApp\",\"link\":\"/reference/channels/whatsapp.md\"}]},{\"text\":\"Supports\",\"collapsible\":true,\"items\":[{\"text\":\"Overview\",\"link\":\"/reference/support/overview.md\"},{\"text\":\"Chatwoot\",\"link\":\"/reference/support/Chatwoot.md\"}]},{\"text\":\"Extensions\",\"link\":\"/reference/providers/extension.md\"},{\"text\":\"CUI Components\",\"collapsible\":true,\"items\":[{\"text\":\"System CUI components\",\"link\":\"/reference/annotations/systemcomponent.md\"},{\"text\":\"Date picker\",\"link\":\"/reference/plugins/components/datepicker/README.md\",\"collapsible\":true,\"items\":[{\"text\":\"CUI design\",\"link\":\"/reference/plugins/components/datepicker/datepicker-design.md\"}]}]},{\"text\":\"Platform\",\"collapsible\":true,\"items\":[{\"text\":\"Multilingual\",\"link\":\"/reference/platform/multilingual.md\"},{\"text\":\"Testing\",\"link\":\"/reference/platform/testing.md\"},{\"text\":\"Deployment\",\"link\":\"/reference/platform/deployment.md\"},{\"text\":\"Version control\",\"link\":\"/reference/platform/versioncontrol.md\"},{\"text\":\"Access control\",\"link\":\"/reference/platform/access.md\"},{\"text\":\"Reusability\",\"link\":\"/reference/platform/reusability.md\"}]},{\"text\":\"Glossary\",\"link\":\"/reference/glossary.md\"}],\"/policy/\":[{\"text\":\"Terms of service\",\"link\":\"/policy/terms.md\"},{\"text\":\"Privacy policy\",\"link\":\"/policy/privacy.md\"}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>